# SQL Exercises for GitHub Copilot in Azure Data Studio

This repository contains a series of SQL exercises to help you learn how to effectively use GitHub Copilot with Azure Data Studio. The exercises are structured as user stories with increasing levels of complexity.

## Getting Started

1. Clone this repository
2. Run the `setup_ecommerce_db.sql` script to create and populate the sample e-commerce database
3. Open Azure Data Studio with GitHub Copilot enabled
4. Work through the exercises below, using GitHub Copilot to help generate and optimize your SQL queries

## Basic Queries

### Exercise 1
**As a** data analyst,  
**I want to** retrieve all customer information including their full name as a single field,  
**So that** I can create a customer directory.

### Exercise 2
**As a** sales manager,  
**I want to** find the top 5 most expensive products along with their categories,  
**So that** I can identify our premium offerings.

### Exercise 3
**As a** inventory specialist,  
**I want to** list all products with less than 50 items in stock ordered by quantity ascending,  
**So that** I can prioritize restocking efforts.

## Intermediate Joins and Aggregations

### Exercise 4
**As a** marketing analyst,  
**I want to** find the total amount spent by each customer along with their contact information,  
**So that** I can identify and reward our most valuable customers.

### Exercise 5
**As a** product manager,  
**I want to** calculate the revenue generated by each product category,  
**So that** I can determine which categories are most profitable.

### Exercise 6
**As a** operations manager,  
**I want to** find all orders that contain products from multiple categories,  
**So that** I can analyze cross-category purchasing patterns.

## Advanced SQL Functions

### Exercise 7
**As a** business analyst,  
**I want to** calculate month-over-month sales growth as a percentage,  
**So that** I can track our business performance trends.

### Exercise 8
**As a** data scientist,  
**I want to** segment customers into recency-frequency-monetary (RFM) groups using window functions and percentiles,  
**So that** I can develop targeted marketing campaigns.

### Exercise 9
**As a** finance manager,  
**I want to** create a query that calculates running totals and moving averages of daily sales,  
**So that** I can identify trends and anomalies in our sales data.

## Large Report Generation

### Exercise 10
**As a** CEO,  
**I want to** generate a comprehensive monthly business report showing sales by region, category, and customer segments with year-over-year comparisons,  
**So that** I can present our company's performance to the board.

### Exercise 11
**As a** supply chain manager,  
**I want to** create a detailed inventory aging report that categorizes products by days in inventory with risk indicators,  
**So that** I can optimize our inventory management process.

### Exercise 12
**As a** marketing director,  
**I want to** build a customer cohort analysis report tracking retention rates across different customer acquisition periods,  
**So that** I can evaluate the long-term effectiveness of our marketing campaigns.

## Query Optimization Challenges

### Exercise 13
**As a** database administrator,  
**I want to** optimize a complex query that joins multiple tables and uses several subqueries to analyze order patterns,  
**So that** I can improve application performance during peak hours.

### Exercise 14
**As a** performance engineer,  
**I want to** rewrite a query that currently uses a cursor to perform row-by-row operations,  
**So that** I can improve processing times by using set-based operations.

### Exercise 15
**As a** systems architect,  
**I want to** create indexed views and appropriate indexing strategies for our most common analytical queries,  
**So that** I can reduce database load and improve query response times.

## Bonus Challenges

### Exercise 16
**As a** data engineer,  
**I want to** write a dynamic SQL procedure that generates pivot tables based on user-specified dimensions and measures,  
**So that** business users can flexibly analyze data across different perspectives.

### Exercise 17
**As a** fraud analyst,  
**I want to** develop a complex detection algorithm using CTEs, window functions, and statistical methods,  
**So that** I can identify suspicious transaction patterns automatically.

### Exercise 18
**As a** enterprise architect,  
**I want to** design a data partitioning and archiving solution with corresponding queries,  
**So that** we can efficiently manage our growing historical data while maintaining query performance.

## Tips for Using GitHub Copilot with These Exercises

1. Start by describing the problem in a comment, being as specific as possible
2. Use natural language to explain your requirements to Copilot
3. If the first suggestion isn't perfect, provide feedback in comments to refine it
4. For complex queries, try breaking down the problem into smaller components
5. When optimizing queries, explain to Copilot what specifically needs improvement

Happy coding with GitHub Copilot and Azure Data Studio!
